(function(c,n){c.fn.extend({scrollspy:function(a){a=c.extend({},{min:0,max:0,mode:"vertical",buffer:0,container:n,onEnter:a.onEnter?a.onEnter:[],onLeave:a.onLeave?a.onLeave:[],onTick:a.onTick?a.onTick:[]},a);return this.each(function(){var d=this,b=a,g=c(b.container),j=b.mode,k=b.buffer,h=leaves=0,e=!1;g.bind("scroll",function(){var a={top:c(this).scrollTop(),left:c(this).scrollLeft()},l="vertical"==j?a.top+k:a.left+k,f=b.max,m=b.min;c.isFunction(b.max)&&(f=b.max());c.isFunction(b.min)&&(m=b.min()); 0==f&&(f="vertical"==j?g.height():g.outerWidth()+c(d).outerWidth());if(l>=m&&l<=f){if(!e&&(e=!0,h++,c(d).trigger("scrollEnter",{position:a}),c.isFunction(b.onEnter)))b.onEnter(d,a);c(d).trigger("scrollTick",{position:a,inside:e,enters:h,leaves:leaves});if(c.isFunction(b.onTick))b.onTick(d,a,e,h,leaves)}else if(e&&(e=!1,leaves++,c(d).trigger("scrollLeave",{position:a,leaves:leaves}),c.isFunction(b.onLeave)))b.onLeave(d,a)})})}})})(jQuery,window);